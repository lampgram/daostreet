(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{2327:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(28),i=n(110),c=n(21),s=n(13),l=n(2),u=n.n(l),p=n(5),f=n.n(p),m=n(4),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={title:null,start:new Date,end:null,pay:null,url:"http://",vesting:7},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.currentAccount,this.props.currentAccount,!s.a.are_equal_shallow(t,this.state)}},{key:"onSubmit",value:function(){i.a.createWorker(this.state,this.props.currentAccount).catch(function(e){console.log("error",e);var t=e.message&&e.message.length&&e.message.length>0?e.message.split("stack")[0]:"unknown error";m.Notification.error({message:f.a.translate("notifications.worker_create_failure",{error_msg:t})})})}},{key:"render",value:function(){var e=this;return console.log("state:",this.state),a.a.createElement("div",{className:"grid-block",style:{paddingTop:20}},a.a.createElement("div",{className:"grid-content large-9 large-offset-3 small-12"},a.a.createElement(u.a,{content:"explorer.workers.create",component:"h3"}),a.a.createElement("form",{style:{maxWidth:800}},a.a.createElement(u.a,{content:"explorer.workers.create_text_1",component:"p"}),a.a.createElement(u.a,{content:"explorer.workers.create_text_2",component:"p"}),a.a.createElement("label",null,a.a.createElement(u.a,{content:"explorer.workers.title"}),a.a.createElement("input",{onChange:function(t){e.setState({title:t.target.value})},type:"text"})),a.a.createElement(u.a,{content:"explorer.workers.name_text",component:"p"}),a.a.createElement("div",{style:{width:"50%",paddingRight:"2.5%",display:"inline-block"}},a.a.createElement("label",null,a.a.createElement(u.a,{content:"account.votes.start"}),a.a.createElement("input",{onChange:function(t){e.setState({start:new Date(t.target.value)})},type:"date"}))),a.a.createElement("div",{style:{width:"50%",paddingLeft:"2.5%",display:"inline-block"}},a.a.createElement("label",null,a.a.createElement(u.a,{content:"account.votes.end"}),a.a.createElement("input",{onChange:function(t){e.setState({end:new Date(t.target.value)})},type:"date"}))),a.a.createElement(u.a,{content:"explorer.workers.date_text",component:"p"}),a.a.createElement("label",null,a.a.createElement(u.a,{content:"explorer.workers.daily_pay"}),a.a.createElement("input",{onChange:function(t){e.setState({pay:t.target.value})},type:"number"})),a.a.createElement(u.a,{content:"explorer.workers.pay_text",component:"p"}),a.a.createElement("label",null,a.a.createElement(u.a,{content:"explorer.workers.website"}),a.a.createElement("input",{onChange:function(t){e.setState({url:t.target.value})},type:"text"})),a.a.createElement(u.a,{content:"explorer.workers.url_text",component:"p"}),a.a.createElement("label",null,a.a.createElement(u.a,{content:"explorer.workers.vesting_pay"}),a.a.createElement("input",{defaultValue:this.state.vesting,onChange:function(t){e.setState({vesting:parseInt(t.target.value)})},type:"number"})),a.a.createElement(u.a,{content:"explorer.workers.vesting_text",component:"p"}),a.a.createElement("div",{className:"button-group",onClick:this.onSubmit.bind(this)},a.a.createElement("div",{className:"button",type:"submit"},"Publish")))))}}]),t}();t.default=h=Object(o.a)(h,{listenTo:function(){return[c.a]},getProps:function(){return{currentAccount:c.a.getState().currentAccount}}})},2328:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(2),i=n.n(o),c=n(20),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),s(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"grid-block vertical"},a.a.createElement("div",{className:"grid-container"},a.a.createElement("div",{className:"grid-content",style:{paddingTop:"2rem"}},a.a.createElement(c.a,{name:"benchmark",size:"10x",className:"pull-left"}),a.a.createElement(i.a,{component:"p",content:"cryptobridge.benchmark.intro_text_1"}),a.a.createElement(i.a,{component:"p",content:"cryptobridge.benchmark.intro_text_2"}),a.a.createElement(i.a,{component:"p",content:"cryptobridge.benchmark.intro_text_3"}),a.a.createElement(i.a,{component:"p",content:"cryptobridge.benchmark.intro_text_4"}),a.a.createElement(i.a,{component:"p",content:"cryptobridge.benchmark.intro_text_5"}),a.a.createElement("p",null,"To view the full range of DARC evaluations"," ",a.a.createElement("a",{href:"https://www.darc.network/research",target:"_blank"},"click here"),"."),a.a.createElement("p",null,"For more information about having your project reviewed, contact"," ",a.a.createElement("a",{href:"mailto:benchmark@crypto-bridge.org"},"benchmark@crypto-bridge.org"),"."))))}}]),t}();t.default=l},2333:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),i=n.n(o),c=n(4),s=n(2),l=n.n(s),u=n(28),p=n(6),f=n(174),m=n(107),d=n(359),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=c.Typography.Paragraph,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),h(t,[{key:"render",value:function(){var e=this.props.account,t=e?"https://wallet.crypto-bridge.org/?r="+e.get("id").replace(/^1.2./,""):null;return a.a.createElement(c.Card,{title:i.a.translate("cryptobridge.earn.referral.card.title")},t?a.a.createElement("div",null,a.a.createElement(c.Form.Item,{className:"clipboard"},a.a.createElement(c.Input,{disabled:!0,value:t,addonBefore:a.a.createElement(f.a,{text:t,tip:"cryptobridge.earn.referral.card.copy",dataPlace:"top",className:"button"})})),a.a.createElement(b,null,a.a.createElement(l.a,{content:"cryptobridge.earn.referral.card.explain"}))):a.a.createElement(d.a,{title:i.a.translate("cryptobridge.earn.referral.card.login")}))}}]),t}(),g=Object(u.a)(y,{listenTo:function(){return[m.a]},getProps:function(){var e=m.a.getName();return{account:p.ChainStore.getAccount(e,null)}}}),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v=c.Typography.Title,_=c.Typography.Paragraph,E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),k(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"content padding"},a.a.createElement(c.Row,{gutter:32},a.a.createElement(c.Col,{xs:{span:24},lg:{span:14}},a.a.createElement(_,null,"We are pleased to announce the launch of the referral program for DaoStreet users! This begins May 15, 2019 00:00 UTC and it will end on August 15, 00:00 UTC. Depending on the feedback we receive from the community, we may renew the program."),a.a.createElement(_,null,"Payouts do happen after a full program period has passed (meaning the first payment will arrive after 30 days of this announcement). On June 14, 2019 the first payout will be complete. The payment duration is 3 months, meaning you will be paid for a 3 month duration after a userâ€™s signup."),a.a.createElement(v,{level:4},"How it works"),a.a.createElement(_,null,"For every 1 BTC of volume generated by your referrals, you will be eligible for $2.50 USD worth of BridgeCoin (BCO) with the option to claim or stake these coins from within the web wallet."),a.a.createElement(_,null,"We are further incentivizing participants by providing the option to have the BCO staked immediately at the time of payout. Not only will DaoStreet pay for the BitShares staking fees for you, but we will also add an extra 10% bonus coins to the stake being created!")),a.a.createElement(c.Col,{xs:{span:24},lg:{span:10}},a.a.createElement(g,null))))}}]),t}(),w=n(15),O=n(13),T=n(29),C=n(18),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return S(e,[{key:"stakeBalance",value:function(e,t,n){var r=new p.TransactionBuilder;return r.add_type_operation("vesting_balance_create",{fee:{amount:"0",asset_id:"1.3.2"},creator:e,owner:e,amount:{amount:n*Math.pow(10,7),asset_id:"1.3.2"},policy:[1,{start_claim:(new Date).toISOString().slice(0,19),vesting_seconds:t}]}),C.a.process_transaction(r,null,!0).then(function(e){}).catch(function(e){console.log("vesting_balance_create err:",e)})}},{key:"claimStakingBalance",value:function(e,t){var n=new p.TransactionBuilder,r=t.balance.amount;return n.add_type_operation("vesting_balance_withdraw",{fee:{amount:"0",asset_id:"1.3.2"},owner:e,vesting_balance:t.id,amount:{amount:Math.floor(r),asset_id:t.balance.asset_id}}),C.a.process_transaction(n,null,!0).then(function(e){}).catch(function(e){console.log("vesting_balance_withdraw err:",e)})}}]),e}(),j=T.a.createActions(P),x=n(30),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F=c.Typography.Title,A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e){var t=!1,n=0,o=O.a.timeStringToGrapheneDate(e.policy[1].start_claim),i=new Date(o.getTime()+1e3*e.policy[1].vesting_seconds);new Date>=i?(t=!0,n=0):n=((n=parseInt(i.getTime()/1e3-(new Date).getTime()/1e3))/86400).toFixed(2);var s=t?a.a.createElement(c.Button,{onClick:function(){r.claim(e)},type:"primary"},a.a.createElement(l.a,{content:"account.member.claim"})):n>0?a.a.createElement(l.a,{days:n,content:"cryptobridge.earn.staking.days"}):null;return a.a.createElement(c.List.Item,{actions:[s]},a.a.createElement(c.List.Item.Meta,{title:a.a.createElement(l.a,{content:"cryptobridge.earn.staking.amount"}),description:a.a.createElement(x.a,{amount:e.balance.amount,asset:e.balance.asset_id})}),a.a.createElement("div",null,t?null:a.a.createElement(l.a,{content:"cryptobridge.earn.staking.remaining"}),n<=0?a.a.createElement(l.a,{className:"green",content:"cryptobridge.earn.staking.available"}):null))},B(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),I(t,[{key:"componentDidUpdate",value:function(e){JSON.stringify(e.balances)!==JSON.stringify(this.props.balances)&&this.forceUpdate()}},{key:"claim",value:function(e){var t=this,n=this.props.account;n&&j.claimStakingBalance(n.get("id"),e,!0).then(function(){t.props.onChange()})}},{key:"render",value:function(){var e=this.props,t=e.balances;return e.account?t.length?a.a.createElement("div",null,a.a.createElement(F,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.positions"})),a.a.createElement(c.List,{dataSource:t,renderItem:this.renderItem})):a.a.createElement(F,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.no_positions"})):null}}]),t}(),N=n(34),R=n(345),D=n.n(R),U=n(1),M=n.n(U),J=n(27),q=n(163),L=n(72),V=n(553),z=n(86),G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var W=c.Typography.Paragraph,K=function(){function e(){H(this,e)}return G(e,null,[{key:"getStakingPeriodByPeriodValue",value:function(e){return this.stakingPeriods.find(function(t){return t.value===parseInt(e)})}}]),e}();K.stakingPeriods=[{name:"cryptobridge.earn.staking.month_1",name_plural:"cryptobridge.earn.staking.month_1_plural",bonus:"0%",value:2678400},{name:"cryptobridge.earn.staking.month_3",name_plural:"cryptobridge.earn.staking.month_3_plural",bonus:"20%",value:7776e3},{name:"cryptobridge.earn.staking.month_6",name_plural:"cryptobridge.earn.staking.month_6_plural",bonus:"50%",value:15552e3},{name:"cryptobridge.earn.staking.month_12",name_plural:"cryptobridge.earn.staking.month_12_plural",bonus:"100%",value:31536e3}];var $=function(e){function t(e){H(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onAmountChanged=function(e){var t=n.state.asset;t.setAmount({real:parseFloat(e.target.value)}),n.setState({asset:t})},n._setTotalStakeAmount=function(e){var t=n.state,r=t.feeAmount,a=t.asset,o=e&&r?parseFloat(e.get("balance")/Math.pow(10,a.precision)-r.getAmount({real:!0})).toFixed(a.precision):0;a.setAmount({real:parseFloat(o)}),n.setState({asset:a})},n._setStakingPeriod=function(e){n.setState({stakingPeriodValue:parseInt(e,10)})},n._stakeBalance=function(){if(n.state.confirmationCheckboxChecked){var e=n.props.account,t=n.state,r=t.asset,a=t.stakingPeriodValue;j.stakeBalance(e.get("id"),a,r.getAmount({real:!0}))}else n.setState({showValidationErrors:!0})},n._onUnderstandCheckboxChange=function(){n.setState({confirmationCheckboxChecked:!n.state.confirmationCheckboxChecked})},n.state={feeStatus:{},asset:e.asset||new J.a({symbol:"BRIDGE.BCO",asset_id:"1.3.2",precision:7,amount:0}),stakingPeriodValue:2678400,confirmationCheckboxChecked:!1,showValidationErrors:!1},n._checkFeeStatus=n._checkFeeStatus.bind(n),n._checkBalance=n._checkBalance.bind(n),n._getCurrentBalance=n._getCurrentBalance.bind(n),n._getFee=n._getFee.bind(n),n._onAmountChanged=n._onAmountChanged.bind(n),n._updateFee=D()(n._updateFee.bind(n),250),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),G(t,[{key:"componentDidMount",value:function(){this._updateFee(),this._checkFeeStatus()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.account)===JSON.stringify(e.account)&&JSON.stringify(this.props.balances)===JSON.stringify(e.balances)||(this.forceUpdate(),this._updateFee(),this._checkFeeStatus())}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.account;if(t){var n=["1.3.0",this.state.asset.asset_id],r={},a=[];n.forEach(function(e){a.push(Object(L.b)({accountID:t.get("id"),feeID:e,type:"vesting_balance_create"}))}),Promise.all(a).then(function(t){n.forEach(function(e,n){r[e]=t[n]}),O.a.are_equal_shallow(e.state.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"_updateFee",value:function(){var e=this;if(!this.props.account)return null;Object(L.b)({accountID:this.props.account.get("id"),feeID:this.state.asset.asset_id,type:"vesting_balance_create"}).then(function(t){var n=t.fee,r=t.hasBalance,a=t.hasPoolBalance;e.setState({feeAmount:n,hasBalance:r,hasPoolBalance:a,error:!r||!a},function(){e._checkFeeStatus();var t=2*(n&&n.getAmount({real:!0})||0);e.props.onReclaimFeeChange(t)})})}},{key:"_getCurrentBalance",value:function(){var e=this;return this.props.balances?this.props.balances.find(function(t){return t&&t.get("asset_type")===e.state.asset.asset_id}):null}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,n=e.asset,r=this._getCurrentBalance();if(r&&t){var a=Object(L.a)(n.getAmount({real:!0}),n,this._getFee(),r,this._getGateFee());if(null!==a)return this.state.balanceError!==!a&&this.setState({balanceError:!a}),a}}},{key:"_getFee",value:function(){var e={getAmount:function(){return 0},asset_id:this.state.asset.asset_id};if(!this.state.feeStatus||!this.state.feeAmount)return e;var t=this.state.feeStatus["1.3.0"],n=this.state.feeStatus[this.state.asset.asset_id];return t&&t.hasBalance?t.fee:t&&!t.hasBalance&&n&&n.hasBalance?n.fee:t?t.fee:e}},{key:"_getGateFee",value:function(){var e=this.props.gateFee,t=this.state.asset;return new J.a({real:parseFloat(e?e.replace(",",""):0),asset_id:t.asset_id,precision:t.precision})}},{key:"render",value:function(){var e=this.state,t=e.feeAmount,n=e.asset,r=e.showValidationErrors,o=e.stakingPeriodValue,s=e.confirmationCheckboxChecked,u=t&&t.getAmount({real:!0})||0,p=2*(t&&t.getAmount({real:!0})||0),f=this._getCurrentBalance(),m=n.getAmount({real:!0})||0;if(!this.props.account)return a.a.createElement(d.a,{title:i.a.translate("cryptobridge.earn.staking.login")});var h=a.a.createElement("div",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer",float:"right",fontSize:"0.8em",marginTop:"5px"},onClick:this._setTotalStakeAmount.bind(this,f)}," ",f&&f.get("balance")?a.a.createElement(l.a,{content:"cryptobridge.earn.staking.bco_available",with:{bco:a.a.createElement(q.a,{balance:f.get("id")})}}):a.a.createElement(l.a,{content:"cryptobridge.earn.staking.bco_not_available"})," "),b=K.getStakingPeriodByPeriodValue(o);return a.a.createElement(c.Form,null,a.a.createElement(W,null,a.a.createElement(l.a,{content:"cryptobridge.earn.staking.intro_text_4",with:{fee:u,reclaimFee:p}})),a.a.createElement(l.a,{component:"label",className:"left-label",unsafe:!0,content:"cryptobridge.earn.staking.amount_bco"}),a.a.createElement(V.a,{placeholder:"0.0",defaultValue:0,value:m,onChange:this._onAmountChanged,addonAfter:a.a.createElement("span",null,a.a.createElement(z.a,{noTip:!0,name:"BRIDGE.BCO"}))}),h,a.a.createElement(l.a,{component:"label",className:"left-label",style:{marginTop:"1rem"},content:"cryptobridge.earn.staking.duration"}),a.a.createElement(c.Select,{onChange:this._setStakingPeriod,value:o,style:{width:"100%"}},K.stakingPeriods.map(function(e,t){return a.a.createElement(c.Select.Option,{key:"stakingPeriod"+t,value:e.value},i.a.translate(e.name,{bonus:e.bonus}))})),m>0?a.a.createElement("label",{style:{marginTop:"20px"},className:r&&!s?"has-error":""},a.a.createElement(c.Checkbox,{key:"checkbox_"+s,onChange:this._onUnderstandCheckboxChange,checked:s},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.understand",with:{amount:m,month:i()(b.name_plural)}}))):null,a.a.createElement("div",{style:{width:"100%",textAlign:"right",marginTop:"20px"}},a.a.createElement(c.Button,{onClick:this._stakeBalance.bind(this),type:"primary",disabled:r&&!s},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.create"}))))}}]),t}();$.propTypes={onReclaimFeeChange:M.a.func.isRequired},$.defaultProps={onReclaimFeeChange:function(){}};var Q=$,X=n(288),Y=n(124),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ee=c.Typography.Paragraph,te=c.Typography.Title,ne=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={rewardClaimInProgress:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Z(t,[{key:"claimReward",value:function(e,t){var n=this;this.setState({rewardClaimInProgress:e+"_"+t}),Y.a.claimReward(e,t).then(function(){n.setState({rewardClaimInProgress:null}),c.message.success(i.a.translate("cryptobridge.account.rewards.claim.success"))}).catch(function(e){n.setState({rewardClaimInProgress:null}),c.message.error(e.message||i.a.translate("cryptobridge.account.rewards.claim.error"))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.me,r=t.reclaimFee,o=n.getRewards();if(!(o&&o.length&&r&&n.getIsAuthenticated()))return null;var s=this.state.rewardClaimInProgress,u=function(t,n){return a.a.createElement(c.Button,{type:"stake"===n?"primary":void 0,onClick:function(){e.claimReward(t,n)},disabled:null!==s,loading:s===t+"_"+n},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.rewards.button."+n}),a.a.createElement("br",null),a.a.createElement("span",{style:{display:"block",fontSize:"10px",marginTop:"-3px"}},"(",a.a.createElement(l.a,{content:"cryptobridge.earn.staking.rewards.button."+n+"_bonus",with:{percent:10}}),")"))};return a.a.createElement("div",null,a.a.createElement(te,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.rewards.title"})),a.a.createElement(ee,null,a.a.createElement(l.a,{content:"cryptobridge.earn.staking.rewards.description",unsafe:!0})),a.a.createElement(ee,null,a.a.createElement(c.Alert,{message:i.a.translate("cryptobridge.earn.staking.rewards.disclaimer",{amount:r}),type:"warning"})),a.a.createElement(c.List,{dataSource:o,renderItem:function(e){var t=[u(e.id,"claim")],n=e.from.substr(0,10)+" - "+e.to.substr(0,10),r=i.a.translate("cryptobridge.earn.staking.rewards.reward.usd")+" "+e.payout,o=i.a.translate("cryptobridge.earn.staking.rewards.reward.payout")+" "+e.amount+" BCO (@ "+e.price+" BCO/USD)";return a.a.createElement(c.List.Item,{actions:t,extra:u(e.id,"stake")},a.a.createElement(c.List.Item.Meta,{title:n,description:o}),a.a.createElement("div",null,r))},header:i.a.translate("cryptobridge.earn.staking.rewards.list"),bordered:!0}))}}]),t}(),re=Object(u.a)(ne,{listenTo:function(){return[m.a]},getProps:function(){return{me:new X.a(m.a.getState())}}}),ae=n(11),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ie=c.Typography.Paragraph,ce=c.Typography.Title,se=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stakingBalances:[],reclaimFee:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),oe(t,[{key:"componentDidMount",value:function(){this.unmounted=!1;var e=this.props.account;e&&this.retrieveStakingBalances(e.get("id"))}},{key:"componentDidUpdate",value:function(e){var t=JSON.stringify(this.props.account)!==JSON.stringify(e.account),n=JSON.stringify(this.props.accountBalances)!==JSON.stringify(e.accountBalances);(t||n)&&this.forceUpdate(),t&&this.props.account&&this.retrieveStakingBalances(this.props.account.get("id"))}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"retrieveStakingBalances",value:function(e){var t=this;e=e||this.props.account.get("id"),w.Apis.instance().db_api().exec("get_vesting_balances",[e]).then(function(e){t.unmounted||(e=e.filter(function(e){return e.balance.amount&&"1.3.2"===e.balance.asset_id}),t.setState({stakingBalances:e}))}).catch(function(e){console.log("error:",e)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.stakingBalances,r=t.reclaimFee,o=this.props.account;return a.a.createElement("div",{className:"content padding"},a.a.createElement(c.Row,{gutter:32},a.a.createElement(c.Col,{xs:{span:24},lg:{span:14}},a.a.createElement(re,{reclaimFee:r}),a.a.createElement(ce,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.staking.intro_text_1",with:{percent:"50%"}})),a.a.createElement(ie,null,a.a.createElement(l.a,{content:"cryptobridge.earn.staking.intro_text_2"})),a.a.createElement(ie,null,a.a.createElement(l.a,{content:"cryptobridge.earn.staking.intro_text_3",with:{url:"https://crypto-bridge.org/bridgecoin/"},unsafe:!0})),a.a.createElement(A,{balances:n,account:o})),a.a.createElement(c.Col,{xs:{span:24},lg:{span:10}},a.a.createElement(c.Card,{title:i.a.translate("cryptobridge.earn.staking.create")},a.a.createElement(Q,{account:o,balances:this.props.accountBalances,onReclaimFeeChange:function(t){e.setState({reclaimFee:t})}})))))}}]),t}();se.propTypes={account:N.a.ChainAccount};var le=Object(u.a)(se,{listenTo:function(){return[m.a]},getProps:function(){var e=m.a.getName(),t=p.ChainStore.getAccount(e,null);return{account:t,accountBalances:t?t.get("balances",Object(ae.List)()).toList().map(function(e){return p.ChainStore.getObject(e)}):[]}}}),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pe=c.Typography.Title,fe=c.Typography.Paragraph,me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ue(t,[{key:"render",value:function(){var e=this.props.account;return a.a.createElement("div",{className:"content padding"},a.a.createElement(c.Row,{gutter:32},a.a.createElement(c.Col,{xs:{span:24},lg:{span:14}},a.a.createElement(pe,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.competition.claim"})),a.a.createElement(fe,null,a.a.createElement(l.a,{content:"cryptobridge.earn.competition.description",unsafe:!0})),a.a.createElement(pe,{level:4},a.a.createElement(l.a,{content:"cryptobridge.earn.competition.leaderboard.title"})),a.a.createElement(fe,null,a.a.createElement(l.a,{content:"cryptobridge.earn.competition.leaderboard.description_1"})),a.a.createElement(fe,null,a.a.createElement(c.Button,{onClick:function(){window.open("https://widgets.crypto-bridge.org/leaderboard/?type=trading&pageSize=10&me="+e+"&modal=true")}},a.a.createElement(l.a,{content:"cryptobridge.earn.competition.leaderboard.action"})))),a.a.createElement(c.Col,{xs:{span:24},lg:{span:10}},a.a.createElement("iframe",{src:"https://widgets.crypto-bridge.org/leaderboard/?type=trading&pageSize=10&me="+e,style:{width:"100%",height:"700px"},frameBorder:"0"},"Browser not compatible."))))}}]),t}(),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var he=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tabs:[{name:"referral",link:"/earn/referral-program",translate:"cryptobridge.earn.referral.title",content:E},{name:"staking",link:"/earn/bridgecoin-staking",translate:"cryptobridge.earn.staking.title",content:le},{name:"competition",link:"/earn/trading-competition",translate:"cryptobridge.earn.competition.title",content:me}]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),de(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"grid-block page-layout"},a.a.createElement("div",{className:"grid-content no-padding"},a.a.createElement(c.Tabs,{activeKey:this.props.location.pathname,defaultActiveTab:"referral",onChange:function(t){e.props.history.push(t)}},this.state.tabs.map(function(e){var t=e.content;return a.a.createElement(c.Tabs.TabPane,{key:e.link,tab:i.a.translate(e.translate)},a.a.createElement(t,null))}))))}}]),t}();t.default=he},2334:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(28),i=n(5),c=n.n(i),s=n(2),l=n.n(s),u=n(4),p=n(107),f=n(81),m=n(29),d=n(112),h=n(39),b=n(26),y=n.n(b),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return g(e,[{key:"fetchTickets",value:function(){return function(e){var t={method:"GET",headers:Object(d.a)()};return fetch(h.d.BASE_SUPPORT+"/tickets",t).then(function(e){return e.json().then(function(t){if(e.ok)return t.map(function(e){return e.status=function(e){switch(e){case 1:return"open";case 2:return"in_progress";case 3:return"waiting_for_customer";case 4:return"waiting_for_support";case 5:return"blocked";case 6:return"closed";default:return"unknown"}}(e.statusId),e.description=e.comment,e.id=e.key,e});throw new Error(t.message||c.a.translate("cryptobridge.support.tickets.fetch.error"))})}).then(function(t){return e(t),t}).catch(function(t){throw e([]),new Error(t.message)})}}},{key:"fetchComments",value:function(e){return function(t){var n={method:"GET",headers:Object(d.a)()};return fetch(h.d.BASE_SUPPORT+"/tickets/"+e+"/comments",n).then(function(e){return e.json().then(function(t){if(e.ok)return t.map(function(e){return{author:e.username,avatar:e.isSupport?"/cryptobridge/daostreet-logo.svg":null,content:e.comment,datetime:y()(e.datetime).fromNow()}});throw new Error(t.message||c.a.translate("cryptobridge.support.comments.fetch.error"))})}).then(function(n){return t({ticketId:e,comments:n}),n}).catch(function(n){throw t({ticketId:e,comments:[]}),new Error(n.message)})}}},{key:"addComment",value:function(e,t){return function(n){var r={method:"POST",headers:Object(d.a)(),body:JSON.stringify({data:t})};return fetch(h.d.BASE_SUPPORT+"/tickets/"+e+"/comments",r).then(function(n){return n.json().then(function(r){if(n.ok&&r.jsdPublic)return{ticketId:e,comment:t};throw new Error(r.message||c.a.translate("cryptobridge.support.comments.add.error"))})}).then(function(t){return n({ticketId:e,comments:t}),t}).catch(function(t){throw n({ticketId:e,comments:[]}),new Error(t.message)})}}},{key:"addTicket",value:function(e,t){return function(n){var r={method:"POST",headers:Object(d.a)(void 0,{reCaptchaToken:t}),body:JSON.stringify(e)};return fetch(h.d.BASE_SUPPORT+"/tickets",r).then(function(e){return e.json().then(function(t){if(e.ok&&t.key)return t;throw new Error(t.message||c.a.translate("cryptobridge.support.tickets.add.error"))})}).then(function(e){return n(e),e}).catch(function(e){throw n(),new Error(e.message)})}}},{key:"closeTicket",value:function(e){return function(t){var n={method:"POST",headers:Object(d.a)()};return fetch(h.d.BASE_SUPPORT+"/tickets/"+e+"/close",n).then(function(t){return t.json().then(function(n){if(t.ok)return e;throw new Error(n.message||c.a.translate("cryptobridge.support.tickets.close.error"))})}).then(function(e){return t(e),e}).catch(function(e){throw t(),new Error(e.message)})}}}]),e}(),v=m.a.createActions(k),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e.bindListeners({onFetchTickets:v.fetchTickets,onFetchComments:v.fetchComments,onCloseTicket:v.closeTicket,onAddTicket:v.addTicket,onAddComment:v.addComment}),e._export("getTickets","getTicket","getComments"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f["a"]),_(t,[{key:"_getInitialState",value:function(){return{tickets:[],comments:{}}}},{key:"getTicket",value:function(e){return this.state.tickets.find(function(t){return t.id===e})}},{key:"getTickets",value:function(){return this.state.tickets||[]}},{key:"getComments",value:function(){return this.state.comments||[]}},{key:"onFetchTickets",value:function(e){this.setState({tickets:e})}},{key:"onFetchComments",value:function(e){var t=e.ticketId,n=e.comments;if(t){var r={};r[t]=n;var a=Object.assign(this.state.comments,r);this.setState({comments:a})}}},{key:"onCloseTicket",value:function(e){var t=this.state.tickets;this.setState({tickets:t.map(function(t){return t.id===e&&(t.status="closed"),t})})}},{key:"onAddTicket",value:function(e){console.log("Ticket added",e,this.state.tickets)}},{key:"onAddComment",value:function(e){var t=e.ticketId,n=e.comment;console.log("Comment added",t,n)}}]),t}(),w=m.a.createStore(E,"SupportStore"),O=n(1),T=n.n(O),C=n(424),S=n(773),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){return a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.asset.label")},e("coin",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.asset.error")}]})(a.a.createElement(C.a,{placeholder:c.a.translate("cryptobridge.support.tickets.create.form.asset.placeholder")})))},A=function(e){return a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.amount.label")},e("amount",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.amount.error")}]})(a.a.createElement(u.InputNumber,{style:{width:"50%"},placeholder:c.a.translate("cryptobridge.support.tickets.create.form.amount.placeholder")})))},N=function(e){return a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.message.label")},e("comment",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.message.error")}]})(a.a.createElement(u.Input.TextArea,{rows:5,placeholder:c.a.translate("cryptobridge.support.tickets.create.form.message.placeholder")})))},R=function(e){function t(){return x(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,a.a.Component),j(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(L,P({},this.props,{issueType:"withdrawal"}),F(e),function(e){return a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.recipient_address.label")},e("recipientAddress",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.recipient_address.error")}]})(a.a.createElement(u.Input,{placeholder:c.a.translate("cryptobridge.support.tickets.create.form.recipient_address.placeholder")})))}(e),A(e),N(e))}}]),t}(),D=function(e){function t(){return x(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,a.a.Component),j(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(L,P({},this.props,{issueType:"deposit"}),F(e),function(e){return a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.transaction_id.label")},e("transactionId",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.transaction_id.error")}]})(a.a.createElement(u.Input,{placeholder:c.a.translate("cryptobridge.support.tickets.create.form.transaction_id.placeholder")})))}(e),A(e),N(e))}}]),t}(),U=function(e){function t(){return x(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,a.a.Component),j(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.a.createElement(L,P({},this.props,{issueType:"other"}),N(e))}}]),t}(),M=u.Form.create({name:"support_withdrawal"})(R),J=u.Form.create({name:"support_deposit"})(D),q=u.Form.create({name:"support_other"})(U),L=function(e){function t(){var e,n,r;x(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={loading:!1},r.onSubmit=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){if(!e){var n=""+c.a.translate("cryptobridge.support.tickets.type."+r.props.issueType,{locale:"en"})+(t.amount&&t.coin?": "+t.amount+" "+t.coin:"")+" / USER: "+p.a.getName(),a=t.reCaptchaToken,o=Object.assign({title:n,comment:t.message,issueType:r.props.issueType},t);delete o.reCaptchaToken,r.setState({loading:!0}),v.addTicket(o,a).then(function(){r.setState({loading:!1}),u.message.success(c.a.translate("cryptobridge.support.tickets.add.success")),r.props.onSuccess()}).catch(function(e){u.message.error(e.message),r.setState({loading:!1})})}})},r.cancel=function(e){e.preventDefault(),r.props.onCancel()},I(r,n)}return B(t,a.a.Component),j(t,[{key:"getHasError",value:function(){var e=this.props.form.getFieldsError();return Object.keys(e).some(function(t){return e[t]})}},{key:"render",value:function(){var e=this.state.loading,t=this.props.form.getFieldDecorator,n=this.getHasError(),r=p.a.getName();return a.a.createElement(u.Form,{onSubmit:this.onSubmit},this.props.children,a.a.createElement(u.Form.Item,{label:c.a.translate("cryptobridge.support.tickets.create.form.recaptcha.label")},t("reCaptchaToken",{rules:[{required:!0,message:c.a.translate("cryptobridge.support.tickets.create.form.recaptcha.error")}]})(a.a.createElement(S.a,{payload:{user:r}}))),a.a.createElement(u.Form.Item,null,a.a.createElement(u.Button,{type:"primary",htmlType:"submit",disabled:n,loading:e,style:{marginRight:"0.75rem"}},a.a.createElement(l.a,{content:"cryptobridge.support.tickets.create.title"})),a.a.createElement(u.Button,{onClick:this.cancel},a.a.createElement(l.a,{content:"global.cancel"}))))}}]),t}();L.propTypes={onCancel:T.a.func.isRequired,onSuccess:T.a.func.isRequired},L.defaultProps={onCancel:function(){},onSuccess:function(){}};var V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K=u.Typography.Paragraph,$=u.Typography.Text,Q=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return W(t,a.a.Component),z(t,[{key:"render",value:function(){var e=this.props.status;return"undefined"===e?null:a.a.createElement(u.Tag,null,a.a.createElement(l.a,{content:"cryptobridge.support.tickets.status."+e}))}}]),t}();Q.propTypes={status:T.a.oneOf(["undefined","open","in_progress","waiting_for_customer","waiting_for_support","blocked","closed"])},Q.defaultProps={status:"waiting_for_customer"};var X=function(e){function t(){var e,n,r;G(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClick=function(e){e.preventDefault(),r.props.onClick(r.props.id)},H(r,n)}return W(t,a.a.Component),z(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.comment,o=e.status,i=e.active;return a.a.createElement(u.List.Item,{title:t,extra:a.a.createElement(Q,{status:o}),onClick:this.onClick,className:"support__tickets__ticket "+(i?"support__tickets__ticket--active":"")},a.a.createElement(u.List.Item.Meta,{title:a.a.createElement($,{ellipsis:!0},t),description:a.a.createElement(K,{ellipsis:{rows:2}},n||r)}))}}]),t}();X.propTypes={onClick:T.a.func.isRequired};var Y=function(e){function t(){return G(this,t),H(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return W(t,a.a.Component),z(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onCancel,r={onCancel:n,onSuccess:e.onSuccess};return a.a.createElement(u.Modal,{title:c.a.translate("cryptobridge.support.tickets.create.title"),visible:t,footer:null,onCancel:n},a.a.createElement(K,null,a.a.createElement(l.a,{content:"cryptobridge.support.tickets.create.description"})),a.a.createElement(u.Tabs,null,a.a.createElement(u.Tabs.TabPane,{key:"withdrawal",tab:c.a.translate("cryptobridge.support.tickets.type.withdrawal")},a.a.createElement(M,r)),a.a.createElement(u.Tabs.TabPane,{key:"deposit",tab:c.a.translate("cryptobridge.support.tickets.type.deposit")},a.a.createElement(J,r)),a.a.createElement(u.Tabs.TabPane,{key:"other",tab:c.a.translate("cryptobridge.support.tickets.type.other")},a.a.createElement(q,r))))}}]),t}(),Z=function(e){function t(e){G(this,t);var n=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openNewTicketModal=function(){n.setState({newTicketModalVisible:!0})},n.onTicketClick=function(e){n.selectTicket(e)},n.selectTicket=function(e){n.setState({selectedTicketId:e}),n.props.onSelect(e)},n.closeNewTicketModal=function(){n.setState({newTicketModalVisible:!1})},n.onSuccess=function(){n.closeNewTicketModal(),n.fetchTickets()},n.state={newTicketModalVisible:!1,authenticated:e.authenticated||!1,tickets:e.tickets||[],selectedTicketId:null},n}return W(t,a.a.Component),z(t,[{key:"componentDidMount",value:function(){this.props.authenticated&&this.fetchTickets()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.authenticated&&!e.authenticated?(this.setState({authenticated:this.props.authenticated}),this.fetchTickets()):this.props.closedTicketId!==e.closedTicketId&&this.fetchTickets(),JSON.stringify(e.tickets)!==JSON.stringify(this.props.tickets)&&this.setState({tickets:this.props.tickets},function(){var e=t.state,n=e.tickets;!e.selectedTicketId&&n.length&&t.selectTicket(n[0].id)})}},{key:"fetchTickets",value:function(){var e=this;this.setState({loading:!0}),v.fetchTickets().then(function(){e.setState({loading:!1})}).catch(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tickets,r=t.loading,o=t.selectedTicketId,i=t.newTicketModalVisible;return t.authenticated?a.a.createElement(u.PageHeader,{title:c.a.translate("cryptobridge.support.tickets.title"),extra:a.a.createElement(u.Button,{onClick:this.openNewTicketModal},a.a.createElement(l.a,{content:"cryptobridge.support.tickets.create.title"}))},a.a.createElement("div",{className:"content support__tickets"},a.a.createElement(Y,{visible:i,onCancel:this.closeNewTicketModal,onSuccess:this.onSuccess}),a.a.createElement(u.List,{itemLayout:"horizontal",dataSource:n,renderItem:function(t){return a.a.createElement(X,V({},t,{onClick:e.onTicketClick,active:o===t.id}))},loading:r,locale:{emptyText:c.a.translate("cryptobridge.support.tickets.none")}}))):null}}]),t}();Z.propTypes={onSelect:T.a.func.isRequired},Z.defaultProps={onSelect:function(){}};var ee=Object(o.a)(Z,{listenTo:function(){return[w,p.a]},getProps:function(){return{authenticated:p.a.getIsAuthenticated(),tickets:w.getTickets()}}}),te=n(288),ne=n(363),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oe=function(e){var t=e.onChange,n=e.onSubmit,r=e.submitting,o=e.value;return a.a.createElement("div",null,a.a.createElement(u.Form.Item,null,a.a.createElement(u.Input.TextArea,{rows:4,onChange:t,value:o})),a.a.createElement(u.Form.Item,null,a.a.createElement(u.Button,{htmlType:"submit",loading:r,onClick:n,type:"primary"},a.a.createElement(l.a,{content:"cryptobridge.support.comments.add.title"}))))},ie=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ae(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={ticketComments:[],submitting:!1,loading:!1,value:""},r.handleSubmit=function(){if(r.state.value){r.setState({submitting:!0});var e=r.state.value,t=r.props.ticketId;v.addComment(t,e).then(function(){r.setState({submitting:!1,value:""},function(){r.fetchComments(r.props.ticketId)})}).catch(function(e){message.error(e.message)})}},r.handleChange=function(e){r.setState({value:e.target.value})},ae(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),re(t,[{key:"componentDidMount",value:function(){this.props.ticketId&&v.fetchComments(this.props.ticketId)}},{key:"componentDidUpdate",value:function(e){e.ticketId!==this.props.ticketId&&this.fetchComments(this.props.ticketId);var t=this.props.comments[this.props.ticketId]||[];JSON.stringify(this.state.ticketComments)!==JSON.stringify(t)&&this.setState({ticketComments:t.map(function(e){return e.avatar||(e.avatar=a.a.createElement(ne.a,{account:name,size:{height:30,width:30}})),e})})}},{key:"fetchComments",value:function(e){var t=this;this.setState({loading:!0}),v.fetchComments(e).then(function(){t.setState({loading:!1})}).catch(function(){t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.ticketComments,n=e.submitting,r=e.loading,o=e.value;return a.a.createElement("div",null,a.a.createElement(u.List,{dataSource:t,header:"Comments",itemLayout:"horizontal",renderItem:function(e){return a.a.createElement(u.Comment,e)},loading:r,locale:{emptyText:c.a.translate("cryptobridge.support.comments.none")}}),a.a.createElement(oe,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:n,value:o}))}}]),t}(),ce=Object(o.a)(ie,{listenTo:function(){return[p.a,w]},getProps:function(){var e=new te.a(p.a.getMe());return{authenticated:p.a.getIsAuthenticated(),me:e,comments:w.getComments()}}}),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var le=u.Typography.Paragraph,ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeTicket=function(){n.setState({closing:!0});var e=n.state.ticket;v.closeTicket(e.id).then(function(){u.message.success(c.a.translate("cryptobridge.support.tickets.close.success")),n.props.onClose(e),n.setState({closing:!1})}).catch(function(e){n.setState({closing:!1}),u.message.error(e.message)})},n.onBack=function(){n.props.onBack()},n.state={ticket:null,closing:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),se(t,[{key:"componentDidUpdate",value:function(e){var t=this;e.ticketId===this.props.ticketId&&JSON.stringify(e.tickets)===JSON.stringify(this.props.tickets)||this.setState({ticket:this.props.tickets.find(function(e){return e.id===t.props.ticketId})})}},{key:"render",value:function(){var e=this.state,t=e.ticket,n=e.closing,r=e.smallScreen;if(!t)return null;var o=t.title,i=t.description,c=t.status,s="closed"!==c?a.a.createElement(u.Button,{type:"danger",onClick:this.closeTicket,loading:n,size:"small"},a.a.createElement(l.a,{content:"cryptobridge.support.tickets.close.title"})):null;return a.a.createElement(u.PageHeader,{title:o,tags:a.a.createElement(Q,{status:c}),extra:s,onBack:r?this.onBack:void 0},a.a.createElement("div",{className:"content padding support__ticket"},a.a.createElement(le,null,i),a.a.createElement(ce,{ticketId:t.id})))}}]),t}();ue.propTypes={onClose:T.a.func.isRequired,onBack:T.a.func.isRequired},ue.defaultProps={onClose:function(){},onBack:function(){}};var pe=Object(o.a)(ue,{listenTo:function(){return[w]},getProps:function(){return{tickets:w.getTickets()}}}),fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,a.a.Component),fe(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"content padding"},"Some Faqs...")}}])}();var me=n(359),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var he=u.Typography.Title,be=u.Typography.Paragraph,ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTicketSelect=function(e){n.setState({selectedTicketId:e})},n.state={authenticated:e.authenticated||!1,selectedTicketId:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),de(t,[{key:"componentDidUpdate",value:function(e){this.props.authenticated&&!e.authenticated&&this.setState({authenticated:this.props.authenticated})}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedTicketId,r=t.authenticated,o=a.a.createElement(u.Row,null,a.a.createElement(u.Col,{xs:{span:24},lg:{span:8},className:n?"hide-column-small":null},a.a.createElement(ee,{onSelect:this.onTicketSelect})),a.a.createElement(u.Col,{xs:{span:24},lg:{span:16}},a.a.createElement(pe,{ticketId:n,onBack:function(){e.setState({selectedTicketId:null})}}))),i=a.a.createElement(u.Row,{type:"flex",justify:"center"},a.a.createElement(u.Col,{xs:{span:20},lg:{span:8},style:{textAlign:"center"}},a.a.createElement(he,{level:2},a.a.createElement(l.a,{content:"cryptobridge.support.title"})),a.a.createElement(be,null,a.a.createElement(l.a,{content:"cryptobridge.support.description"})),a.a.createElement(me.a,null)));return a.a.createElement(u.Tabs,{defaultActiveKey:"contact"},a.a.createElement(u.Tabs.TabPane,{tab:c.a.translate("cryptobridge.support.contact.title"),key:"contact"},r?o:i))}}]),t}();t.default=Object(o.a)(ye,{listenTo:function(){return[p.a]},getProps:function(){return{authenticated:p.a.getIsAuthenticated()}}})}}]);
//# sourceMappingURL=create-worker.js.map